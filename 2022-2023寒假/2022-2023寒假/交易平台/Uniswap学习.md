### Uniswap学习

**一、Uniswap是什么？**

Uniswap 是一种完全不同的交易平台，完全的分布式意味着它自己并不被单一实体所有并且运营，而是运用了名为自动流动性协议的一个全新交易模式。

Uniswap平台于2018年建立在全球市值第二大的加密资产项目以太坊区块链之上，这使得它与所有ERC-20Token和基础设施(如MetaMask和MyEtherWallet等钱包服务)兼容。

Uniswap也是一个完全开源的项目，意味着任何人都能复制代码去创造他们自己的分布式交易平台。它甚至允许用户免费上新Token。一般中心化交易所都是受利益驱动，并对上新Token收取高额费用。所以这是一个显著的差异。因为Uniswap是一个分布式交易平台（DEX），这也意味着用户任何时候都保持对他们基金的控制,而不是像中心化交易平台那样，要求交易者放弃控制自己的私钥,因此订单可以登录一个内部数据库,而不是在区块链上执行，两者比较起来，中心化交易平台更耗时和成本更高。通过保留对私钥的控制，它消除了交易平台遭到黑客攻击而损失资产的风险。根据2月初的数据，Uniswap是第四大分布式金融(DeFi)平台，在其协议上锁定了价值超过30亿美元的加密资产。

**二、Uniswap如何工作**

Uniswap运行在两个智能合约上; 一个“交换”合同和一个“工厂”合同。 这是一种自动计算机程序，当满足某些条件时，它被设计来执行特定的功能。 在这种情况下，工厂智能合约用于向平台添加新的Token，而交换合约为所有Token交换或“交易”提供便利。 任何基于ERC-20的Token都可以在更新的Uniswap v.2平台上与另一个Token交换。

**三、自动化的流动性协议**
Uniswap用自动化流动性协议来解决中心化交易平台的流动性问题。这是通过激励人们在交易平台进行交易，从而成为流动性提供者(LPs)来实现的:Uniswap用户将他们的资金聚集在一起，来创建一个基金，用于执行平台上发生的所有交易。每一个登记的Token都有他们自己的用户可以贡献的基金pool，并且每个Token的价格用由电脑通过数学算法计算出来
有了这个系统，买方或卖方不必等待对方出现来完成交易。相反，他们可以立即以已知价格执行任何交易，前提是特定pool中有足够的流动性为其提供便利。
作为提供资金的交换，每个参与者都会收到一个Token，代表他们对投资pool的贡献。例如，如果你向一个总计持有10万美元的流动性pool贡献了1万美元，你将获得该流动性pool10%的Token。这个Token可以兑换一部分交易费用。Uniswap对用户在平台上进行的每笔交易收取0.30%的固定费用，并自动将其发送到一个流动性储备中。
每当流动性提供者决定退出时，他们就会从准备金中获得相对于其在pool中持股金额的一部分费用。他们收到的Token记录了他们相对应的权益然后被销毁。
**四、Token的价格是如何决定的**
这个系统中另一个重要的原理是每个Token的价格是如何决定的。不同于最高买家和最低卖家决定每种资产的价格的订单系统，Uniswap使用的是自动做市商系统。这个替代的方法是基于供需的一个长期数学公式来调整资产价格。它的工作原理是根据每个资金pool中Token数量的比例来增加和减少Token的价格。
这是一个非常重要的点，即每当有人向Uniswap添加一个新的ERC-20Token时，这个人就必须添加一定量的选定的ERC-20Token和等量的另一种ERC-20Token，以启动流动pool。
每个Token价格的计算公式是x*y=k，TokenA的数量是X，TokenB的数量是Y，K是常数，是一个不变的数字。
例如，Bob 想在Uniswap LINK/ETH资金pool中交易chainlink (LINK)Token， Bob将大量的LINK Token投入资金pool中，从而增加了资金pool中LINK相对ETH的比例。由于K值必须保持不变，这意味着ETH的成本增加，而资金pool中LINK Token的成本降低。因此，Bob LINKToken放入越多，他获取另外的Token就越少。
流动性pool的规模也决定了Token价格在交易期间的变化幅度。在一个流动性pool中，资金越多，就越容易实施大规模的操作，而不语导致价格大幅下降。
**五、套利**
套利交易者是Uniswap生态系统中一个不可或缺的组成部分。这些交易员擅长发现多个交易平台之间的价格差异，并利用它们来获取利润。例如，如果BTC在Kraken上的交易价格是3.55万美元，Binance的价格是3.45万美元，你可以在Binance上购买BTC，然后在Kraken上出售，从而轻松获利。如果交易量大，就有可能以相对低的风险获得可观的利润。
套利交易者在Uniswap上所做的是找到高于或低于其平均价格的Token交易——这是由于大量交易在pool中造成失衡并降低或提高价格的结果——并相应地买卖它们。
**六、如何使用Uniswap**
使用Uniswap相对简单，但是，你需要确保你已经有了支持ERC-20的钱包设置，如MetaMask、WalletConnect、Coinbase钱包、Portis或Fortmatic。
一旦你有了这样一个钱包，你就需要添加ETH，以便在Uniswap上进行交易并支付GAS费。GAS费在价格方面的变化依赖于正在使用的网络的数量。在通过以太坊区块链进行支付时，大多数ERC-20兼容的钱包服务提供三种选择:慢速、中速或快速。慢速是最便宜的选择，快速是最贵的选择，而中速是介于中间。你交易快慢是靠以太坊网络节点维护者处理交易的速度决定的。