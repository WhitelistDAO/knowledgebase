# 智能合约

**智能合约是存储在区块链节点中的一段代码，代码的逻辑定义了合约的规则**

1. 智能合约运行在分享的、复制的账本上，可以处理信息，接收、存储和发送价值
2. 区块链存储的是状态，智能合约是区块链用于状态转换的方式

# 智能合约的优点及风险

1. 高效的实时更新：由于智能合约的执行不需要人为的第三方权威或中心化代理服务的参与，其能够在任何时候响应用户的请求，大大提升了交易进行的效率。用户不需要等待银行开门就可以办理相关的业务，只要通过网络一切都可以方便快捷地解决。
2. 准确执行：智能合约的所有条款和执行过程是提前制定好的，并在计算机的绝对控制下进行。因此所有执行的结果都是准确无误的，不会出现不可预料的结果。这也是传统合约制定和执行过程中所期望的。现今，智能合约的准确执行得益于密码学的发展和区块链技术的发明。
3. 较低的人为干预风险：在智能合约部署之后，合约的所有内容都将无法修改，合约中的任何一方都不能干预合约的执行，也就是说任何合约人都不能为了自己的利益恶意毁约，即使发生毁约事件，事件的责任人也会受到相应的处罚，这种处罚也是在合约制定之初就已经决定好的，在合约生效之后无法更改。
4. 去中心化权威：一般来说，智能合约不需要中心化的权威来仲裁合约是否按规定执行，合约的监督和仲裁都由计算机来完成。在区块链上的智能合约更具有这一特性，在一个区块链网络中一般不存在一个绝对的权威来监督合约的执行，而是由该网络中绝大部分的用户来判断合约是否按规定执行，这种大多数人监督的方式是由PoW或PoS技术来实现的。如果将这种情况搬到现实世界中，或许现在的所有法官都要失业了，而与此同时我们每个人都是法官，都参与监督和仲裁。
5. 较低的运行成本：正因为智能合约具有去人为干预的特点，其能够大大减少合约履行、裁决和强制执行所产生的人力成本，但要求合约制定人能够将合约的各个细节在合约建立之初就确定下来。这可能会使在传统行业（如银行）工作的部分员工面临失业，但从长远来说会促进行业的转型，向更新更好的领域发展。虽然智能合约具有许多显而易见的优点，但对智能合约的深入研究才刚刚开始，其广泛应用还面临着潜在的甚至是毁灭性的各类风险。其中一个已知的风险恰恰是来自于智能合约的去人为干预的特性。

# 智能合约的代码结构

```solidity
pragma solidity 0.4.21;  //声明使用solidity的版本
constract SimpleAuction{
address public beneficiary; //受益人
uint public auctionEnd;  //结束时间                                  状态变量   
address [] bidders; //所有竞拍者
}

//需要记录的事件
event HighestBidIncreased(address bidder,uint amount);
enent PayBeneficinary(address winner,uint amount);                  log记录

//以受益者地址的名义创建一个简单的拍卖
constructor(uint_biddingTime,address_beneficiary)
public (
beneficiary=_beneficiary;                                           构造函数，仅在合约创建时调用一次
auctionEnd=now+_biddingTime;
)

function did() public payable{}
function withdraw() public returns (bool){}                         成员函数
function payBeneficiary(） public returns(bool){}
```